<h1>Welcome to
    <%=title %>
</h1>
<p>
    <%= title %>
</p>
<ol class="breadcrumb">
    <li>
        <a href="http://localhost:3000">主页</a>
    </li>
    <li>
        <a href="http://localhost:3000/posts">文章列表</a>
    </li>
    <li><a href="http://localhost:3000/posts/create">写文章</a></li>
    <li class="active">注册</li>
    <li> <a href="http://localhost:3000/signin">登录</a></li>
    
</ol>
<div id="app">
    <h1>创建用户</h1>
    <div class="form-group">
        <input type="text" class="form-control" v-model="name" placeholder="输入账号">
    </div>
    <div class="form-group">
        <input type="password" class="form-control" v-model="pass" placeholder="输入密码"></input>
    </div>
    <div class="form-group">
            <input type="password" class="form-control" v-model="rePass" placeholder="再次输入密码"></input>
        </div>
    <div class="form-group">
        <button class="btn btn-default" v-on:click="submit">提交</button>
    </div>
</div>
<script>
var app = new Vue({
    el:'#app',
    data:{
        name:'',
        pass:'',
        rePass:'',
    },
    methods:{
        submit () {
            axios.post('/api/v1/signup',
        {
          name: app.name,
          pass: app.pass,
          rePass: app.rePass
        })
        .then(function(response) {
          return response.data;
        })
        .then(function(data) {
          window.location = '/';
        })
        .catch(function(err) {
          alert(err.response.data.error);
        })
        }
    }
});
</script>
